---
title: 数组
date: 2022-06-28 15:27:54
tags: JavaScript
categories:
 - JavaScript
---

# 数组

## 创建数组

1. `new Array`

   - `new Array(长度)`

     只有一个参数的时候表示数组的长度，且数组中的每一项都为空

     长度：数组里的数据总数，是一个非负整数

   - `new Array(数据1, 数据2, ……)`

     当参数的数量大于1的时候表示创建一个初始化每一项的数组，数组的长度就是传入参数的个数

2. [数据1, 数据2, ……]

   创建一个数组，并初始化其每一项

## 数组的本质

数组的本质是一个对象

- 数字字符串属性：叫做下标，也叫索引，相当于数组中每个数据的编号，从0开始
- `length`属性：数组的长度，会自动变化，值为最大下标+1

> 连续下标的取值范围：`0 ~ length - 1`，如果给`length`直接赋值，可能会导致数组被截断
>
> **在开发中，一般情况下不要给`length`赋值**

## 稀松数组

通常情况下，下标是连续的，结构比较紧凑，所以，下标不连续的数组就叫**稀松数组**

```js
[1,2, , , 5]
```

## 数组的常见操作

`let arr = []`

### 添加数组项

- `arr[长度] = 数据`：向数组末尾添加一个数据
- `arr.push(数据)`：向数组的末尾添加一个数据
- `arr.unshift(数据)`：向数组的起始位置添加一个数据，会导致数组每一项的下标向后移
- `arr.splice(下标, 0, 数据)`：从指定下标位置开始，删除0个，然后再该位置插入添加的数据，如果下标超过范围，则按照范围的边界进行处理

> `push、unshift、splice`可以添加多个数据

### 删除数据

- `delete arr[下标]`：这种做法不会导数组其他属性发生变化，因此，这种做法会导致稀松数组，所以不推荐使用该方法
- `arr.pop()`：删除数组的最后一项，并返回表达式最后一项（被删除项）的数据
- `arr.shift()`：删除数组的第一项，该表达时返回第一项（被删除项）的数据
- `arr.splice(下标，删除的数量，添加的数据)`：从指定下标位置开始，删除指定数量，然后在该位置插入添加的数据，如果下标超过范围，则按照范围的边界进行处理。返回一个新的数组（被删除的数据）

### 其他操作

- `arr.slice(起始位置下标，结束位置下标)`：将起始位置到结束位置之间的数据拿出来，返回一个新的数组，不会改变原数组

> 注意：
>
> 1. 结束下标取不到
> 2. 下标可以为负数，如果是负数，则从数组的末尾开始计算
> 3. 如果不写结束下标，则直接取到数组的末尾

- 清空数组
  - `arr.splice(0, arr.length)`
  - `arr.length = 0`

- 查找数组中某一项的下标

  - `arr.indexOf(数据)`

    从数组中依次查找对应的数据，查找时使用严格相等比较，查找到第一个匹配的下标，返回，如果没有找到则返回-1

  - `arr.lastIndexOf(数据)`

    功能与`indexOf`类似，不同的是查找的是最后一个匹配的下标

- `arr.fill(数据)`：将数组的所有项都填充为指定的数据

> 1. `arr.fill(数据，开始下标)`：将数组从开始下标起，到数组末尾，填充为指定的数据
> 2. `arr.fill(数据，开始下标，结束下标)`：将数组从开始下标起，到数据的结束下标（取不到），填充为指定的数据

- 判断某个属性在对象中是否存在

  `in`关键字

  ```js
  let arr = ['1', 2, 3];
  '1' in arr; // true
  num in arr // 报错
  ```

> 注意：属性必须是字符串，如果是数字会自动转换为字符串，别的（如：直接写一个变量名）会报错

## for in 循环

```js
for (var prop in 对象) {
    // 循环体
}
```

> 注意：
>
> 1. `for in`循环遍历的是对象的属性，如：在数组中，遍历的就是数组的下标
> 2. **当使用`for in`循环遍历稀松数组时，空数据是不会被遍历的（`for`循环和`for in`循环的区别），因此，当给稀松数组添加数据的时候，使用`for in`循环是添加不进去的……**





